<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DV | Protect - Campaign Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'inter': ['Inter', 'sans-serif'],
          },
          colors: {
            'gray': {
              50: '#F9FAFB',
              100: '#F2F4F7',
              200: '#E4E7EC',
              300: '#D0D5DD',
              400: '#98A2B3',
              500: '#667085',
              600: '#475467',
              700: '#344054',
              800: '#1D2939',
              900: '#101828',
            },
            'brand': {
              purple: '#7F56D9',
              'purple-light': '#F4F3FF',
            },
            'status': {
              'red': '#F04438',
              'red-light': '#FEF3F2',
              'red-dark': '#B42318',
              'green': '#12B76A',
              'green-light': '#ECFDF3',
              'yellow': '#F79009',
              'yellow-light': '#FFFAEB',
            }
          }
        }
      }
    }
  </script>
  <style>
    * { font-family: 'Inter', sans-serif; }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes typing {
      from { opacity: 0.5; }
      to { opacity: 1; }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }

    .slide-in {
      animation: slideIn 0.3s ease-out forwards;
    }

    .message-appear {
      animation: fadeIn 0.4s ease-out forwards;
    }

    /* Hidden by default for animation */
    .animate-section {
      opacity: 0;
      transform: translateY(10px);
    }

    .animate-section.visible {
      animation: fadeIn 0.5s ease-out forwards;
    }

    /* Typing indicator */
    .typing-dot {
      animation: typingBounce 1.4s infinite ease-in-out;
    }
    .typing-dot:nth-child(1) { animation-delay: 0s; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typingBounce {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-4px); }
    }

    /* Thinking indicator */
    .thinking-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: #F9FAFB;
      border-radius: 12px;
      width: fit-content;
    }

    .thinking-text {
      font-size: 14px;
      color: #667085;
      font-style: italic;
    }

    /* Scrollbar styling */
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: transparent;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #E4E7EC;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #D0D5DD;
    }

    /* Highlight pulse */
    @keyframes highlightPulse {
      0%, 100% { background-color: rgba(127, 86, 217, 0.1); }
      50% { background-color: rgba(127, 86, 217, 0.2); }
    }

    .highlight-card {
      animation: highlightPulse 2s ease-in-out infinite;
    }

    /* Link styling in messages */
    .insight-link {
      color: #7F56D9;
      text-decoration: underline;
      cursor: pointer;
    }
    .insight-link:hover {
      color: #6941C6;
    }
  </style>
</head>
<body class="h-full bg-gray-50">
  <div id="app" class="flex h-screen overflow-hidden">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-900 flex flex-col flex-shrink-0">
      <!-- Logo -->
      <div class="px-5 py-5 flex items-center gap-3">
        <div class="w-9 h-9 bg-white rounded-lg flex items-center justify-center">
          <span class="text-gray-900 font-bold text-lg">DV</span>
        </div>
        <div>
          <h1 class="text-white font-semibold text-base leading-tight">Protect</h1>
          <p class="text-gray-400 text-xs">by DoubleVerify</p>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex flex-col gap-1 px-3">
        <a href="campaigns.html" class="flex items-center gap-3 px-3 py-2 rounded-md bg-gray-800 text-white">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
          </svg>
          <span class="text-sm font-medium">Campaigns</span>
        </a>
        <a href="profiles.html" class="flex items-center gap-3 px-3 py-2 rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
          </svg>
          <span class="text-sm font-medium">Brand Safety Profiles</span>
        </a>
        <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
          <span class="text-sm font-medium">Reports</span>
        </a>
        <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"/>
          </svg>
          <span class="text-sm font-medium">Support</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col overflow-hidden bg-white">
      <!-- Header -->
      <header class="px-8 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0">
        <div class="flex items-center gap-3">
          <a href="index.html" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors">
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
          </a>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
            </svg>
            <span class="text-base font-semibold text-gray-900">Campaign Analysis</span>
            <span class="text-xs text-gray-400 italic">powered by Vera</span>
          </div>
        </div>
        <div class="flex items-center gap-2 text-sm text-gray-500">
          <span>Acme Corp - Q1 Brand Campaign</span>
          <span class="text-gray-300">â€¢</span>
          <span>Northshore Beverages US Brand Suitability Profile (US Baseline)</span>
        </div>
      </header>

      <!-- Chat Container -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Messages Area -->
        <div id="messagesArea" class="flex-1 overflow-y-auto custom-scrollbar px-8 py-6">
          <div id="messageContainer" class="max-w-3xl mx-auto space-y-6">

            <!-- Thinking Indicator (shown initially) -->
            <div id="thinkingIndicator" class="flex items-start gap-3">
              <div class="w-8 h-8 rounded-full bg-brand-purple-light flex items-center justify-center flex-shrink-0">
                <svg class="w-4 h-4 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
              </div>
              <div class="thinking-indicator">
                <div class="flex items-center gap-1">
                  <div class="typing-dot w-2 h-2 bg-brand-purple rounded-full"></div>
                  <div class="typing-dot w-2 h-2 bg-brand-purple rounded-full"></div>
                  <div class="typing-dot w-2 h-2 bg-brand-purple rounded-full"></div>
                </div>
                <span class="thinking-text">Analyzing campaign data...</span>
              </div>
            </div>

            <!-- Initial Analysis Message -->
            <div id="analysisMessage" class="hidden">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-full bg-brand-purple-light flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="text-sm font-medium text-gray-900 mb-3">Vera</div>

                  <!-- Analysis Content - Each section animates in -->
                  <div class="space-y-5 text-sm text-gray-700 leading-relaxed">
                    <p id="introText" class="animate-section">I've analyzed the brand safety performance for <strong>Acme Corp - Q1 Brand Campaign</strong>. Here's what I found:</p>

                    <!-- Block Rate Overview Card -->
                    <div id="blockRateCard" class="animate-section bg-gray-50 border border-gray-200 rounded-xl p-5">
                      <h4 class="text-sm font-semibold text-gray-900 mb-4">Block Rate Overview</h4>

                      <!-- Metrics Grid -->
                      <div class="grid grid-cols-3 gap-4 mb-4">
                        <div class="bg-white rounded-lg p-3 border border-gray-100">
                          <div class="text-xs text-gray-500 mb-1">Last 2 Weeks</div>
                          <div class="text-2xl font-semibold text-status-red">8.7%</div>
                        </div>
                        <div class="bg-white rounded-lg p-3 border border-gray-100">
                          <div class="text-xs text-gray-500 mb-1">Week-over-Week</div>
                          <div class="text-2xl font-semibold text-status-red flex items-center gap-1">
                            +2.4%
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                            </svg>
                          </div>
                        </div>
                        <div class="bg-white rounded-lg p-3 border border-gray-100">
                          <div class="text-xs text-gray-500 mb-1">Industry Benchmark</div>
                          <div class="text-2xl font-semibold text-gray-900">6.6%</div>
                          <div class="text-xs text-status-red">2.1% above</div>
                        </div>
                      </div>
                    </div>

                    <!-- Key Insight - Highlighted -->
                    <div id="keyInsightCard" class="animate-section bg-status-red-light border border-red-200 rounded-xl p-5 highlight-card">
                      <div class="flex items-start gap-3">
                        <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center flex-shrink-0">
                          <svg class="w-4 h-4 text-status-red" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                          </svg>
                        </div>
                        <div class="flex-1">
                          <h4 class="text-sm font-semibold text-status-red-dark mb-2">Key Insight: Topic Concentration</h4>
                          <p class="text-sm text-gray-700 mb-3">
                            <strong>70% of your campaign blocks</strong> are due to three specific topics related to <strong>Iran</strong>: Water Crisis, Politics, and War.
                          </p>
                          <a href="#" class="inline-flex items-center gap-1.5 text-sm font-medium text-brand-purple hover:text-purple-700">
                            <span>Click here to remove these keywords from your BSS settings</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                            </svg>
                          </a>
                        </div>
                      </div>
                    </div>

                    <!-- Per Topic Breakdown -->
                    <div id="topicBreakdownCard" class="animate-section bg-gray-50 border border-gray-200 rounded-xl p-5">
                      <h4 class="text-sm font-semibold text-gray-900 mb-4">Topic Breakdown</h4>

                      <div class="space-y-3">
                        <!-- Topic 1 -->
                        <div class="bg-white rounded-lg p-4 border border-gray-100">
                          <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-900">Iran - Water Crisis</span>
                            <span class="text-xs font-medium text-status-red bg-status-red-light px-2 py-0.5 rounded-full">High Impact</span>
                          </div>
                          <div class="grid grid-cols-2 gap-4 text-xs">
                            <div>
                              <span class="text-gray-500">Inventory blocked:</span>
                              <span class="font-semibold text-gray-900 ml-1">3.2%</span>
                            </div>
                            <div>
                              <span class="text-gray-500">Industry profiles blocking:</span>
                              <span class="font-semibold text-gray-900 ml-1">12%</span>
                            </div>
                          </div>
                        </div>

                        <!-- Topic 2 -->
                        <div class="bg-white rounded-lg p-4 border border-gray-100">
                          <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-900">Iran - Politics</span>
                            <span class="text-xs font-medium text-status-yellow bg-status-yellow-light px-2 py-0.5 rounded-full">Medium Impact</span>
                          </div>
                          <div class="grid grid-cols-2 gap-4 text-xs">
                            <div>
                              <span class="text-gray-500">Inventory blocked:</span>
                              <span class="font-semibold text-gray-900 ml-1">1.8%</span>
                            </div>
                            <div>
                              <span class="text-gray-500">Industry profiles blocking:</span>
                              <span class="font-semibold text-gray-900 ml-1">34%</span>
                            </div>
                          </div>
                        </div>

                        <!-- Topic 3 -->
                        <div class="bg-white rounded-lg p-4 border border-gray-100">
                          <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-900">Iran - War</span>
                            <span class="text-xs font-medium text-status-yellow bg-status-yellow-light px-2 py-0.5 rounded-full">Medium Impact</span>
                          </div>
                          <div class="grid grid-cols-2 gap-4 text-xs">
                            <div>
                              <span class="text-gray-500">Inventory blocked:</span>
                              <span class="font-semibold text-gray-900 ml-1">1.1%</span>
                            </div>
                            <div>
                              <span class="text-gray-500">Industry profiles blocking:</span>
                              <span class="font-semibold text-gray-900 ml-1">45%</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>

            <!-- Follow-up Question -->
            <div id="followUpQuestion" class="hidden">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-full bg-brand-purple-light flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="bg-gray-50 border border-gray-200 rounded-xl p-4">
                    <p class="text-sm text-gray-700 mb-3">Would you like to see examples of the blocked content?</p>
                    <div class="flex items-center gap-2">
                      <button onclick="showBlockedExamples()" class="px-4 py-2 bg-brand-purple text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors">
                        Yes, show examples
                      </button>
                      <button onclick="dismissFollowUp()" class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
                        No, thanks
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Blocked Examples (Hidden by default) -->
            <div id="blockedExamples" class="hidden message-appear">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-full bg-brand-purple-light flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="text-sm font-medium text-gray-900 mb-3">Vera</div>

                  <div class="space-y-4 text-sm text-gray-700">
                    <p>Here are examples of recently blocked content for each topic:</p>

                    <!-- Topic Cards with URLs and Rockerbox Scores -->
                    <div class="space-y-5">

                      <!-- Topic 1: Iran - Water Crisis -->
                      <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                        <div class="bg-status-red-light px-4 py-3 border-b border-red-200 flex items-center justify-between">
                          <div class="flex items-center gap-2">
                            <span class="text-sm font-semibold text-status-red-dark">Iran - Water Crisis</span>
                            <span class="text-xs text-gray-500">3.2% inventory blocked</span>
                          </div>
                          <span class="text-xs text-gray-400">12 URLs blocked today</span>
                        </div>
                        <div class="p-4 space-y-3">
                          <!-- URL 1 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">reuters.com/world/middle-east/iran-water-shortage-levels</div>
                              <div class="text-[11px] text-gray-500">Blocked 2 hours ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">8.4/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 2 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">aljazeera.com/news/2024/iran-drought-agriculture</div>
                              <div class="text-[11px] text-gray-500">Blocked 4 hours ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">7.9/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 3 - Blurred with upgrade prompt -->
                          <div class="relative p-3 bg-gray-50 rounded-lg overflow-hidden">
                            <div class="flex items-center gap-3 blur-sm select-none">
                              <div class="flex-1 min-w-0">
                                <div class="text-xs font-medium text-gray-900 truncate">nytimes.com/2024/world/middleeast/iran-water-crisis</div>
                                <div class="text-[11px] text-gray-500">Blocked 6 hours ago</div>
                              </div>
                              <div class="flex items-center gap-3 flex-shrink-0">
                                <div class="text-right">
                                  <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                  <div class="text-xs font-semibold text-gray-900">9.1/10</div>
                                </div>
                                <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                  </svg>
                                  <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                                </div>
                              </div>
                            </div>
                            <!-- Upgrade overlay -->
                            <div class="absolute inset-0 flex items-center justify-center bg-white/60">
                              <button class="flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-amber-500 text-white text-xs font-medium rounded-lg hover:from-amber-500 hover:to-amber-600 transition-all shadow-sm">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                Upgrade to Rockerbox
                              </button>
                            </div>
                          </div>
                          <!-- Ad Preview -->
                          <div class="flex items-center gap-3 mt-3 pt-3 border-t border-gray-100">
                            <div class="w-20 h-14 relative rounded-lg overflow-hidden flex-shrink-0">
                              <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=300&h=200&fit=crop" alt="Business analytics" class="w-full h-full object-cover">
                              <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                                <div class="w-6 h-6 bg-white rounded flex items-center justify-center">
                                  <span class="text-purple-600 font-bold text-[8px]">AC</span>
                                </div>
                              </div>
                            </div>
                            <div class="flex-1">
                              <div class="text-xs text-gray-500">Your ad was blocked from serving on these pages</div>
                              <div class="text-[11px] text-status-red font-medium mt-0.5">Estimated lost impressions: 45,200</div>
                            </div>
                          </div>
                        </div>
                        <!-- Unblock Question -->
                        <div id="unblock-water-crisis" class="bg-gray-50 px-4 py-3 border-t border-gray-200 flex items-center justify-between">
                          <span class="text-xs text-gray-600">Would you like me to unblock this topic?</span>
                          <div class="flex items-center gap-2">
                            <button onclick="unblockTopic('water-crisis')" class="px-3 py-1.5 bg-brand-purple text-white text-xs font-medium rounded-lg hover:bg-purple-700 transition-colors">
                              Yes, unblock
                            </button>
                            <button onclick="dismissUnblock('water-crisis')" class="px-3 py-1.5 bg-white border border-gray-300 text-gray-600 text-xs font-medium rounded-lg hover:bg-gray-50 transition-colors">
                              No
                            </button>
                          </div>
                        </div>
                      </div>

                      <!-- Topic 2: Iran - Politics -->
                      <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                        <div class="bg-status-yellow-light px-4 py-3 border-b border-yellow-200 flex items-center justify-between">
                          <div class="flex items-center gap-2">
                            <span class="text-sm font-semibold text-yellow-800">Iran - Politics</span>
                            <span class="text-xs text-gray-500">1.8% inventory blocked</span>
                          </div>
                          <span class="text-xs text-gray-400">8 URLs blocked today</span>
                        </div>
                        <div class="p-4 space-y-3">
                          <!-- URL 1 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">bbc.com/news/world-middle-east/iran-economic-reforms</div>
                              <div class="text-[11px] text-gray-500">Blocked 5 hours ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">8.7/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 2 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">economist.com/middle-east/iran-policy-analysis</div>
                              <div class="text-[11px] text-gray-500">Blocked 8 hours ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">9.3/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 3 - Blurred with upgrade prompt -->
                          <div class="relative p-3 bg-gray-50 rounded-lg overflow-hidden">
                            <div class="flex items-center gap-3 blur-sm select-none">
                              <div class="flex-1 min-w-0">
                                <div class="text-xs font-medium text-gray-900 truncate">wsj.com/world/iran-government-reforms-2024</div>
                                <div class="text-[11px] text-gray-500">Blocked 12 hours ago</div>
                              </div>
                              <div class="flex items-center gap-3 flex-shrink-0">
                                <div class="text-right">
                                  <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                  <div class="text-xs font-semibold text-gray-900">8.2/10</div>
                                </div>
                                <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                  </svg>
                                  <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                                </div>
                              </div>
                            </div>
                            <!-- Upgrade overlay -->
                            <div class="absolute inset-0 flex items-center justify-center bg-white/60">
                              <button class="flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-amber-500 text-white text-xs font-medium rounded-lg hover:from-amber-500 hover:to-amber-600 transition-all shadow-sm">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                Upgrade to Rockerbox
                              </button>
                            </div>
                          </div>
                          <!-- Ad Preview -->
                          <div class="flex items-center gap-3 mt-3 pt-3 border-t border-gray-100">
                            <div class="w-20 h-14 relative rounded-lg overflow-hidden flex-shrink-0">
                              <img src="https://images.unsplash.com/photo-1551434678-e076c223a692?w=300&h=200&fit=crop" alt="Team collaboration" class="w-full h-full object-cover">
                              <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                                <div class="w-6 h-6 bg-white rounded flex items-center justify-center">
                                  <span class="text-blue-600 font-bold text-[8px]">AC</span>
                                </div>
                              </div>
                            </div>
                            <div class="flex-1">
                              <div class="text-xs text-gray-500">Your ad was blocked from serving on these pages</div>
                              <div class="text-[11px] text-status-red font-medium mt-0.5">Estimated lost impressions: 28,400</div>
                            </div>
                          </div>
                        </div>
                        <!-- Unblock Question -->
                        <div id="unblock-politics" class="bg-gray-50 px-4 py-3 border-t border-gray-200 flex items-center justify-between">
                          <span class="text-xs text-gray-600">Would you like me to unblock this topic?</span>
                          <div class="flex items-center gap-2">
                            <button onclick="unblockTopic('politics')" class="px-3 py-1.5 bg-brand-purple text-white text-xs font-medium rounded-lg hover:bg-purple-700 transition-colors">
                              Yes, unblock
                            </button>
                            <button onclick="dismissUnblock('politics')" class="px-3 py-1.5 bg-white border border-gray-300 text-gray-600 text-xs font-medium rounded-lg hover:bg-gray-50 transition-colors">
                              No
                            </button>
                          </div>
                        </div>
                      </div>

                      <!-- Topic 3: Iran - War -->
                      <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                        <div class="bg-status-yellow-light px-4 py-3 border-b border-yellow-200 flex items-center justify-between">
                          <div class="flex items-center gap-2">
                            <span class="text-sm font-semibold text-yellow-800">Iran - War</span>
                            <span class="text-xs text-gray-500">1.1% inventory blocked</span>
                          </div>
                          <span class="text-xs text-gray-400">5 URLs blocked today</span>
                        </div>
                        <div class="p-4 space-y-3">
                          <!-- URL 1 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">apnews.com/entertainment/iran-iraq-war-documentary</div>
                              <div class="text-[11px] text-gray-500">Blocked 1 day ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">7.6/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 2 -->
                          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1 min-w-0">
                              <div class="text-xs font-medium text-gray-900 truncate">smithsonianmag.com/history/iran-iraq-war-legacy</div>
                              <div class="text-[11px] text-gray-500">Blocked 1 day ago</div>
                            </div>
                            <div class="flex items-center gap-3 flex-shrink-0">
                              <div class="text-right">
                                <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                <div class="text-xs font-semibold text-gray-900">8.9/10</div>
                              </div>
                              <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                              </div>
                            </div>
                          </div>
                          <!-- URL 3 - Blurred with upgrade prompt -->
                          <div class="relative p-3 bg-gray-50 rounded-lg overflow-hidden">
                            <div class="flex items-center gap-3 blur-sm select-none">
                              <div class="flex-1 min-w-0">
                                <div class="text-xs font-medium text-gray-900 truncate">pbs.org/wgbh/frontline/iran-conflict-history</div>
                                <div class="text-[11px] text-gray-500">Blocked 2 days ago</div>
                              </div>
                              <div class="flex items-center gap-3 flex-shrink-0">
                                <div class="text-right">
                                  <div class="text-[10px] text-gray-400 uppercase">Attribution</div>
                                  <div class="text-xs font-semibold text-gray-900">9.5/10</div>
                                </div>
                                <div class="flex items-center gap-1 bg-gradient-to-r from-amber-400 to-amber-500 rounded px-2 py-1">
                                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                  </svg>
                                  <span class="text-[9px] font-bold text-white">ROCKERBOX</span>
                                </div>
                              </div>
                            </div>
                            <!-- Upgrade overlay -->
                            <div class="absolute inset-0 flex items-center justify-center bg-white/60">
                              <button class="flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-amber-500 text-white text-xs font-medium rounded-lg hover:from-amber-500 hover:to-amber-600 transition-all shadow-sm">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                Upgrade to Rockerbox
                              </button>
                            </div>
                          </div>
                          <!-- Ad Preview -->
                          <div class="flex items-center gap-3 mt-3 pt-3 border-t border-gray-100">
                            <div class="w-20 h-14 relative rounded-lg overflow-hidden flex-shrink-0">
                              <img src="https://images.unsplash.com/photo-1563986768609-322da13575f3?w=300&h=200&fit=crop" alt="Cybersecurity" class="w-full h-full object-cover">
                              <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                                <div class="w-6 h-6 bg-white rounded flex items-center justify-center">
                                  <span class="text-green-600 font-bold text-[8px]">AC</span>
                                </div>
                              </div>
                            </div>
                            <div class="flex-1">
                              <div class="text-xs text-gray-500">Your ad was blocked from serving on these pages</div>
                              <div class="text-[11px] text-status-red font-medium mt-0.5">Estimated lost impressions: 18,700</div>
                            </div>
                          </div>
                        </div>
                        <!-- Unblock Question -->
                        <div id="unblock-war" class="bg-gray-50 px-4 py-3 border-t border-gray-200 flex items-center justify-between">
                          <span class="text-xs text-gray-600">Would you like me to unblock this topic?</span>
                          <div class="flex items-center gap-2">
                            <button onclick="unblockTopic('war')" class="px-3 py-1.5 bg-brand-purple text-white text-xs font-medium rounded-lg hover:bg-purple-700 transition-colors">
                              Yes, unblock
                            </button>
                            <button onclick="dismissUnblock('war')" class="px-3 py-1.5 bg-white border border-gray-300 text-gray-600 text-xs font-medium rounded-lg hover:bg-gray-50 transition-colors">
                              No
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Upsell Cards -->
                    <div id="upsellCards" class="space-y-4">
                      <!-- ABS Upsell Card -->
                      <div class="bg-gradient-to-br from-brand-purple-light to-purple-100 border border-purple-200 rounded-xl p-5">
                        <div class="flex items-start gap-4">
                          <div class="w-12 h-12 rounded-xl bg-white flex items-center justify-center flex-shrink-0 shadow-sm">
                            <svg class="w-6 h-6 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                            </svg>
                          </div>
                          <div class="flex-1">
                            <div class="flex items-center gap-2 mb-2">
                              <h4 class="text-sm font-semibold text-gray-900">Activate ABS (Authentic Brand Suitability)</h4>
                              <span class="text-[10px] text-brand-purple bg-white px-2 py-0.5 rounded-full font-medium">Premium</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">Increase brand suitability and improve alignment with campaign objectives across eligible inventory.</p>

                            <!-- Benchmark comparison -->
                            <div class="bg-white rounded-lg p-4 mb-4">
                              <div class="text-xs text-gray-500 mb-3">Industry Benchmark Comparison</div>
                              <div class="grid grid-cols-2 gap-4">
                                <div>
                                  <div class="text-[11px] text-gray-400 uppercase mb-1">Current Suitability</div>
                                  <div class="text-xl font-semibold text-gray-900">72%</div>
                                </div>
                                <div>
                                  <div class="text-[11px] text-gray-400 uppercase mb-1">With ABS Applied</div>
                                  <div class="text-xl font-semibold text-status-green flex items-center gap-1">
                                    89%
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                                    </svg>
                                  </div>
                                  <div class="text-xs text-status-green">+17% improvement</div>
                                </div>
                              </div>
                            </div>

                            <div class="flex items-center gap-3">
                              <button class="px-4 py-2 bg-brand-purple text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors">
                                Activate ABS
                              </button>
                              <button class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
                                Learn More
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Scibids Upsell Card -->
                      <div class="bg-gradient-to-br from-blue-50 to-indigo-100 border border-indigo-200 rounded-xl p-5">
                        <div class="flex items-start gap-4">
                          <div class="w-12 h-12 rounded-xl bg-white flex items-center justify-center flex-shrink-0 shadow-sm">
                            <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                          </div>
                          <div class="flex-1">
                            <div class="flex items-center gap-2 mb-2">
                              <h4 class="text-sm font-semibold text-gray-900">Activate Scibids AI Optimization</h4>
                              <span class="text-[10px] text-indigo-600 bg-white px-2 py-0.5 rounded-full font-medium">Premium</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">Target the most relevant inventory based on campaign goals with AI-powered optimization.</p>

                            <!-- KPI Benchmark comparison -->
                            <div class="bg-white rounded-lg p-4 mb-4">
                              <div class="text-xs text-gray-500 mb-3">Campaign KPI Performance Benchmark</div>
                              <div class="grid grid-cols-2 gap-4">
                                <div>
                                  <div class="text-[11px] text-gray-400 uppercase mb-1">Current KPI Achievement</div>
                                  <div class="text-xl font-semibold text-gray-900">68%</div>
                                </div>
                                <div>
                                  <div class="text-[11px] text-gray-400 uppercase mb-1">With Scibids Enabled</div>
                                  <div class="text-xl font-semibold text-status-green flex items-center gap-1">
                                    94%
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                                    </svg>
                                  </div>
                                  <div class="text-xs text-status-green">+26% improvement</div>
                                </div>
                              </div>
                            </div>

                            <div class="flex items-center gap-3">
                              <button class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors">
                                Activate Scibids
                              </button>
                              <button class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
                                Learn More
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Input Area -->
        <div class="border-t border-gray-200 px-8 py-4 bg-white flex-shrink-0">
          <div class="max-w-3xl mx-auto">
            <div class="flex items-center gap-3">
              <input
                id="chatInput"
                type="text"
                placeholder="Ask a follow-up question..."
                class="flex-1 h-12 px-4 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"
              >
              <button id="sendBtn" class="h-12 px-5 flex items-center gap-2 bg-brand-purple rounded-xl hover:bg-purple-700 transition-colors">
                <span class="text-sm font-medium text-white">Send</span>
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Animation sequence on page load
    document.addEventListener('DOMContentLoaded', function() {
      const messagesArea = document.getElementById('messagesArea');
      const thinkingIndicator = document.getElementById('thinkingIndicator');
      const analysisMessage = document.getElementById('analysisMessage');
      const thinkingText = thinkingIndicator.querySelector('.thinking-text');

      // Sequence of thinking messages
      const thinkingMessages = [
        'Analyzing campaign data...',
        'Calculating block rates...',
        'Comparing to industry benchmarks...',
        'Identifying key insights...',
        'Generating recommendations...'
      ];

      let thinkingIndex = 0;

      // Update thinking message every 600ms
      const thinkingInterval = setInterval(() => {
        thinkingIndex++;
        if (thinkingIndex < thinkingMessages.length) {
          thinkingText.textContent = thinkingMessages[thinkingIndex];
        }
      }, 600);

      // After initial thinking, show the analysis message
      setTimeout(() => {
        clearInterval(thinkingInterval);
        thinkingIndicator.classList.add('hidden');
        analysisMessage.classList.remove('hidden');

        // Animate sections in sequence
        const sections = [
          { id: 'introText', delay: 100 },
          { id: 'blockRateCard', delay: 800 },
          { id: 'keyInsightCard', delay: 1600 },
          { id: 'topicBreakdownCard', delay: 2400 },
        ];

        sections.forEach(section => {
          setTimeout(() => {
            const el = document.getElementById(section.id);
            if (el) {
              el.classList.add('visible');
              // Scroll to show new content
              messagesArea.scrollTo({
                top: messagesArea.scrollHeight,
                behavior: 'smooth'
              });
            }
          }, section.delay);
        });

        // Show follow-up question after all sections
        setTimeout(() => {
          const followUp = document.getElementById('followUpQuestion');
          followUp.classList.remove('hidden');
          followUp.classList.add('message-appear');
          messagesArea.scrollTo({
            top: messagesArea.scrollHeight,
            behavior: 'smooth'
          });
        }, 3200);

      }, 3000); // Initial thinking time
    });

    // Show blocked examples
    function showBlockedExamples() {
      document.getElementById('followUpQuestion').classList.add('hidden');
      document.getElementById('blockedExamples').classList.remove('hidden');

      // Scroll to the new content
      const messagesArea = document.getElementById('messagesArea');
      setTimeout(() => {
        messagesArea.scrollTo({
          top: messagesArea.scrollHeight,
          behavior: 'smooth'
        });
      }, 100);
    }

    // Dismiss follow-up question
    function dismissFollowUp() {
      document.getElementById('followUpQuestion').classList.add('hidden');
    }

    // Unblock topic handler - updates inline within the card
    function unblockTopic(topic) {
      const topicNames = {
        'water-crisis': 'Iran - Water Crisis',
        'politics': 'Iran - Politics',
        'war': 'Iran - War'
      };

      const unblockSection = document.getElementById(`unblock-${topic}`);
      if (!unblockSection) return;

      // Replace the unblock question with success message
      unblockSection.className = 'bg-status-green-light px-4 py-3 border-t border-green-200';
      unblockSection.innerHTML = `
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4 text-status-green flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          <span class="text-xs font-medium text-green-800">Topic unblocked successfully</span>
        </div>
        <span class="text-[11px] text-green-700">Changes will take effect within 15 minutes</span>
      `;
    }

    // Dismiss unblock question
    function dismissUnblock(topic) {
      const unblockSection = document.getElementById(`unblock-${topic}`);
      if (!unblockSection) return;

      // Replace with a subtle "kept blocked" message
      unblockSection.className = 'bg-gray-50 px-4 py-3 border-t border-gray-200';
      unblockSection.innerHTML = `
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
          </svg>
          <span class="text-xs text-gray-500">Topic will remain blocked</span>
        </div>
      `;
    }

    // Handle chat input
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');

    sendBtn.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMessage();
    });

    function sendMessage() {
      const message = chatInput.value.trim();
      if (!message) return;

      // Add user message
      const messagesArea = document.getElementById('messagesArea');
      const messageContainer = document.getElementById('messageContainer');

      const userMessageHtml = `
        <div class="message-appear flex justify-end">
          <div class="bg-brand-purple text-white rounded-xl px-4 py-3 max-w-md">
            <p class="text-sm">${message}</p>
          </div>
        </div>
      `;

      messageContainer.insertAdjacentHTML('beforeend', userMessageHtml);
      chatInput.value = '';

      // Scroll to bottom
      messagesArea.scrollTo({
        top: messagesArea.scrollHeight,
        behavior: 'smooth'
      });

      // Simulate AI response after delay
      setTimeout(() => {
        const aiResponseHtml = `
          <div class="message-appear">
            <div class="flex items-start gap-3">
              <div class="w-8 h-8 rounded-full bg-brand-purple-light flex items-center justify-center flex-shrink-0">
                <svg class="w-4 h-4 text-brand-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
              </div>
              <div class="flex-1">
                <div class="text-sm font-medium text-gray-900 mb-2">Vera</div>
                <div class="text-sm text-gray-700 leading-relaxed">
                  <p>I understand you're asking about "${message}". Let me look into that for you...</p>
                </div>
              </div>
            </div>
          </div>
        `;

        messageContainer.insertAdjacentHTML('beforeend', aiResponseHtml);

        messagesArea.scrollTo({
          top: messagesArea.scrollHeight,
          behavior: 'smooth'
        });
      }, 1000);
    }
  </script>
</body>
</html>
